<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Tessera.Views.TableView">
  <UserControl.KeyBindings>
    <KeyBinding Gesture="Ctrl+C" Command="{Binding CopyCommand}" />
    <KeyBinding Gesture="Ctrl+V" Command="{Binding PasteCommand}" />
    <KeyBinding Gesture="Ctrl+Z" Command="{Binding UndoCommand}" />
    <KeyBinding Gesture="Ctrl+Shift+Z" Command="{Binding RedoCommand}" />
  </UserControl.KeyBindings>
  <Grid RowDefinitions="Auto,*" Background="{DynamicResource PageBackgroundBrush}" ColumnDefinitions="*">
    <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,12" VerticalAlignment="Center">
      <Border Background="{DynamicResource StrongSurfaceBrush}" Padding="10,6" CornerRadius="8" BorderBrush="{DynamicResource BorderBrushLight}" BorderThickness="1">
        <StackPanel Orientation="Vertical" Spacing="2">
          <TextBlock Text="Active file" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" />
          <TextBlock Text="{Binding CurrentFileName}" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="SemiBold" />
        </StackPanel>
      </Border>
      <Border Background="{DynamicResource StrongSurfaceBrush}" Padding="10,6" CornerRadius="8" BorderBrush="{DynamicResource BorderBrushLight}" BorderThickness="1">
        <StackPanel Orientation="Vertical" Spacing="2">
          <TextBlock Text="Status" Foreground="{DynamicResource TextSecondaryBrush}" FontSize="12" />
          <TextBlock Text="{Binding StatusMessage}" Foreground="{DynamicResource TextPrimaryBrush}" />
        </StackPanel>
      </Border>
    </StackPanel>

    <Border Grid.Row="1" Background="{DynamicResource SurfaceBrush}" CornerRadius="10" Padding="16" BoxShadow="0 8 30 #1A000000">
      <Grid RowDefinitions="Auto,Auto,*" RowSpacing="8">
        <TextBlock Text="Table view" FontSize="20" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryBrush}" />
        <TextBlock Grid.Row="1" Text="Virtualized grid with inline editing, validation, and undo/redo." Foreground="{DynamicResource TextSecondaryBrush}" />
        <DataGrid x:Name="TableGrid"
                  Grid.Row="2"
                  Items="{Binding Rows}"
                  AutoGenerateColumns="False"
                  HeadersVisibility="All"
                  GridLinesVisibility="All"
                  BorderThickness="1"
                  BorderBrush="{DynamicResource BorderBrushLight}"
                  CanUserReorderColumns="False"
                  CanUserResizeColumns="True"
                  EnableRowVirtualization="True"
                  EnableColumnVirtualization="True"
                  IsReadOnly="False"
                  SelectionUnit="Cell"
                  AreRowDetailsFrozen="True"
                  RowHeight="36"
                  CornerRadius="8"
                  Background="{DynamicResource StrongSurfaceBrush}"
                  HorizontalScrollBarVisibility="Auto"
                  VerticalScrollBarVisibility="Auto"
                  SelectionChanged="OnSelectionChanged" />
      </Grid>
    </Border>
  </Grid>
</UserControl>
